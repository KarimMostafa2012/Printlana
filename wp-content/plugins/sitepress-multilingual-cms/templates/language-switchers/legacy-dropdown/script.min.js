"use strict";var WPMLLanguageSwitcherDropdown=function(){function n(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function r(e,t){var n=e.closest(o);n&&n.querySelector(".wpml-ls-sub-menu")&&((void 0!==t?t:"true"===e.getAttribute("aria-expanded"))?(e.setAttribute("aria-expanded","false"),n.classList.remove("wpml-ls-keyboard-open")):(e.setAttribute("aria-expanded","true"),n.classList.add("wpml-ls-keyboard-open")))}function a(e){var t=e.key||e.keyCode;"Enter"===t||" "===t||13===t||32===t?(n(e),r(this)):"Escape"!==t&&"Esc"!==t&&27!==t||"true"===this.getAttribute("aria-expanded")&&(n(e),r(this,!1),this.focus())}function i(e){var t=this,n=t.closest(o);n&&setTimeout(function(){var e=document.activeElement;n.querySelector(".wpml-ls-sub-menu")&&!n.contains(e)&&r(t,!1)},100)}var o=".wpml-ls-item-legacy-dropdown";return{init:function(){for(var e=document.querySelectorAll(".js-wpml-ls-legacy-dropdown a.js-wpml-ls-item-toggle"),t=0;t<e.length;t++)e[t].addEventListener("click",n),e[t].addEventListener("keydown",a),e[t].addEventListener("blur",i)}}}();document.addEventListener("DOMContentLoaded",function(){WPMLLanguageSwitcherDropdown.init()});