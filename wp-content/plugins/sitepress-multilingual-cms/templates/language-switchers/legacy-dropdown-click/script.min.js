"use strict";var WPMLLanguageSwitcherDropdownClick=function(){function n(e){var t=this.querySelectorAll(c)[0],i=this.querySelector("a.js-wpml-ls-item-toggle");return"visible"===t.style.visibility?(t.style.visibility="hidden",i&&i.setAttribute("aria-expanded","false"),document.removeEventListener("click",l)):(t.style.visibility="visible",i&&i.setAttribute("aria-expanded","true"),document.addEventListener("click",l),o=!0),!1}function r(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function s(e){var t,i=e.key||e.keyCode;"Enter"===i||" "===i||13===i||32===i?(r(e),(t=this.closest(a))&&n.call(t,e)):"Escape"!==i&&"Esc"!==i&&27!==i||"true"===this.getAttribute("aria-expanded")&&(r(e),!(t=this.closest(a))||(t=t.querySelector(c))&&(t.style.visibility="hidden",this.setAttribute("aria-expanded","false"),this.focus()))}var a=".js-wpml-ls-legacy-dropdown-click",c=".js-wpml-ls-sub-menu",o=!1,l=function(){if(!o)for(var e=document.querySelectorAll(a),t=0;t<e.length;t++){var i=e[t].querySelectorAll(c)[0],l=e[t].querySelector("a.js-wpml-ls-item-toggle");i.style.visibility="hidden",l&&l.setAttribute("aria-expanded","false")}o=!1};return{init:function(){for(var e=document.querySelectorAll(a),t=0;t<e.length;t++)e[t].addEventListener("click",n);for(var i=document.querySelectorAll(a+" a.js-wpml-ls-item-toggle"),l=0;l<i.length;l++)i[l].addEventListener("click",r),i[l].addEventListener("keydown",s)}}}();document.addEventListener("DOMContentLoaded",function(){WPMLLanguageSwitcherDropdownClick.init()});